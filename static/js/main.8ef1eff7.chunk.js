(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,n){var r=n(7).times,a={a:"a",c:"c",g:"g",t:"t",r:"[ag]",y:"[ct]",s:"[cg]",w:"[at]",k:"[gt]",m:"[ac]",b:"[cgt]",d:"[agt]",h:"[act]",v:"[acg]",n:"[acgt]"},o={a:"a",c:"c",g:"g",t:"t",ag:"r",ct:"y",cg:"s",at:"w",gt:"k",ac:"m",cgt:"b",agt:"d",act:"h",acg:"v",acgt:"n"},c=function(e){var t=e.toLowerCase().split("").reduce(function(e,t){return e+a[t]},"");return new RegExp(t,"gi")},i=function(e,t){var n=c(t);return((e||"").match(n)||[]).length},s="acgt".split(""),l=function(){return s[Math.floor(4*Math.random())]},u=function(e,t){var n=new Set;e.forEach(function(e){return n.add(e.charAt(t))});var r=Array.from(n);return r.sort(),o[r.join("")]},f=function(e,t){switch(u(e,t)){case"a":case"c":case"g":case"t":return!0;default:return!1}};e.exports={amplicon:function(e,t,n){var r=e.indexOf(t);if(r<0)return"";var a=e.indexOf(n,r);return a<0?"":e.substring(r,a+n.length)},find:function(e,t){var n=c(t);return e.search(n)},count:i,randomSequence:function(e){return r(l,e).join("")},consensus:function(e){for(var t=e[0].length,n=1;n<e.length;n++)t=Math.min(t,e[n].length);for(var r="",a=0;a<t;a++)r+=u(e,a);return r},firstDifference:function(e){for(var t=e[0].length,n=0;n<t;n++)if(!f(e,n))return n;return-1},looksLikeDna:function(e){return"number"!==typeof e&&""===e.replace(/[acgtryswkmbdhvn]/gi,"")},meltingTemperature:function(e){return e.length<=13?2*i(e,"w")+4*i(e,"s"):64.9+41*(i(e,"s")-16.4)/e.length},gcContent:function(e){return 100*i(e,"s")/e.length}}},19:function(e,t,n){e.exports=n(38)},24:function(e,t,n){},26:function(e,t,n){},36:function(e,t,n){var r,a=n(7).flatten,o=n(13),c=o.complement,i=o.reverse,s=n(14),l=s.amplicon,u=s.find,f=s.count,g=s.randomSequence,d=s.consensus,h=s.firstDifference,p=s.meltingTemperature,E=s.gcContent,m=new(0,n(37).Parser);m.setHot=function(e){r=e},m.on("callCellValue",function(e,t){var n=e.row.index,a=e.column.index,o=r.getData()[n][a];"="!==o[0]?t(o):t(m.parse(o.substring(1).toUpperCase()).result)}),m.on("callRangeValue",function(e,t,n){for(var a=[],o=e.row.index,c=t.row.index,i=e.column.index,s=t.column.index,l=o;l<=c;l++){for(var u=[],f=i;f<=s;f++){var g=r.getData()[l][f];if("="!==g[0])u.push(g);else{var d=m.parse(g.substring(1).toUpperCase());u.push(d.result)}}a.push(u)}a&&n(a)}),m.on("callFunction",function(e,t,n){switch(e.toUpperCase()){case"REVERSE_COMPLEMENT":n(c(t[0],!0));break;case"REVERSE":n(i(t[0]));break;case"COMPLEMENT":n(c(t[0],!1));break;case"AMPLICON":n(l(t[0],t[1],t[2]));break;case"FIND":n(u(t[0],t[1]));break;case"COUNT":n(f(t[0],t[1]));break;case"RANDOM_SEQUENCE":n(g(t[0]));break;case"BASE":n(t[0].substring(t[1],t[1]+1));break;case"LENGTH":n(t[0].length);break;case"CONSENSUS":n(d(a(t[0])));break;case"FIRST_DIFFERENCE":n(h(a(t[0])));break;case"MELTING_TEMPERATURE":n(Math.round(10*p(t[0]))/10);break;case"GC_CONTENT":n(Math.round(E(t[0])))}}),e.exports={parser:m}},38:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(15),c=n.n(o),i=(n(24),n(16)),s=n(2),l=n(3),u=n(5),f=n(4),g=n(6),d=n(18),h=(n(26),n(28),n(8)),p=n(17),E=n(7).forEach,m=function(e){function t(e){var n;Object(s.a)(this,t),n=Object(u.a)(this,Object(f.a)(t).call(this,e));var r=e.data;return n.state={data:r},n}return Object(g.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e={callback:function(e,t,n){console.log(n)},items:{toggle_stripes:{name:"Toggle Stripes",callback:function(){this.setCellMeta(0,0,"drawStripes",!0),this.render()}},set_reference:{name:"Set Reference",callback:function(){!function(e,t,n){E(function(t){for(var r=t.start,a=t.end,o=r.row;o<=a.row;o++)for(var c=r.col;c<=a.col;c++)console.log(o,c),n(e.getCell(o,c))},t)}(this,arguments[1],console.log)}}}},t={data:this.state.data,type:"locus-acgt-dna-sequence",colHeaders:!0,rowHeaders:!0,width:"1200",height:"700",stretchH:"all",formulas:!0,manualColumnResize:!0,contextMenu:e};return a.a.createElement("div",{id:"hot-app"},a.a.createElement(p.HotTable,{settings:t}))}}]),t}(a.a.Component),v=n(1),A=n.n(v),C=(n(13).checkType,n(36).parser),b=n(14).looksLikeDna,w={a:"adenine",c:"cytosine",g:"guanine",t:"thymine"},N={a:"adenine-light",c:"cytosine-light",g:"guanine-light",t:"thymine-light"},T=function(e,t){var n=t?N:w;return e.toLowerCase()in n?n[e.toLowerCase()]:"ambiguous"},R=function(e,t){return'<span class="'.concat(T(e,t),'">').concat(e,"</span>")},k=A.a.editors.TextEditor,O={renderer:function(e,t,n,r,a,o,c){var i=function(e,t){if(!t.startsWith("="))return t;C.setHot(e);var n=C.parse(t.substring(1));return n.error?n.error:n.result}(e,o);if("number"!==typeof i)if("boolean"!==typeof i)if(b(i)){var s=function(e){for(var t=e.toString().split(""),n="",r=0;r<t.length;r++){var a=t[r]===""[r];n+=R(t[r],a)}var o=document.createElement("div");return o.innerHTML=n,o}(i);t.style.fontFamily="monospace",A.a.renderers.TextRenderer.apply(this,arguments),t.removeChild(t.childNodes[0]),t.appendChild(s)}else A.a.renderers.TextRenderer(e,t,n,r,a,i,c);else A.a.renderers.TextRenderer(e,t,n,r,a,i,c);else A.a.renderers.NumericRenderer(e,t,n,r,a,i,c)},validator:A.a.validators.TextValidator,editor:k},S={};A.a.cellTypes.registerCellType("locus-acgt-dna-sequence",O),A.a.validators.registerValidator("locus-acgt-dna-sequence",O.validator),A.a.hooks.add("modifyAutofillRange",function(e,t){S={startArea:t,entireArea:e}}),A.a.hooks.add("beforeChange",function(e,t){if("Autofill.fill"===t){var n=S,r=n.startArea,a=n.entireArea;e.forEach(function(e){var t=Object(d.a)(e,4),n=t[0],o=t[1],c=(t[2],t[3]),i=Object(h.sourceCellForFill)(n,o,r,a),s=Object(h.translateCell)(i,{row:n,col:o},c);e[3]=s})}});var M=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(u.a)(this,Object(f.a)(t).call(this,e))).handleChange=function(e,t){return function(r){n.setState({settings:Object(i.a)({},e,t[r.target.checked?1:0])})}},n.state={data:[["tccagggacattcatgcatcgcctt","","","","","","","","",""],["tccaggtacattcatgcattgcctt","","","","","","","","",""],["cat","","","","","","","","",""],["gcc","","","","","","","","",""],["=AMPLICON(A1, A3, A4)","AMPLICON(A1, A3, A4)","","","","","","","",""],["=BASE(A1, 1)","BASE(A1, 1)","","","","","","","",""],["=COMPLEMENT(A1)","COMPLEMENT(A1)","","","","","","","",""],["=CONSENSUS(A1:A2)","CONSENSUS(A1:A2)","","","","","","","",""],["=COUNT(A1, A3)","COUNT(A1, A3)","","","","","","","",""],["=FIND(A1, A3)","FIND(A1, A3)","","","","","","","",""],["=FIRST_DIFFERENCE(A1:A2)","FIRST_DIFFERENCE(A1:A2)","","","","","","","",""],["=GC_CONTENT(A1)","GC_CONTENT(A1)","","","","","","","",""],["=LENGTH(A1)","LENGTH(A1)","","","","","","","",""],["=MELTING_TEMPERATURE(A1)","MELTING_TEMPERATURE(A1)","","","","","","","",""],["=RANDOM_SEQUENCE(30)","RANDOM_SEQUENCE(30)","","","","","","","",""],["=REVERSE_COMPLEMENT(A1)","REVERSE_COMPLEMENT(A1)","","","","","","","",""],["=REVERSE(A1)","REVERSE(A1)","","","","","","","",""]],settings:{displayText:!1,width:1200,height:220}},n}return Object(g.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return a.a.createElement("div",{className:"App"},a.a.createElement("header",{className:"App-header"},a.a.createElement("span",{className:"App-title"},"Locus\xa0"),a.a.createElement("span",{className:"App-title adenine"},"A"),a.a.createElement("span",{className:"App-title"},"\u2013"),a.a.createElement("span",{className:"App-title cytosine"},"C"),a.a.createElement("span",{className:"App-title"},"\u2013"),a.a.createElement("span",{className:"App-title guanine"},"G"),a.a.createElement("span",{className:"App-title"},"\u2013"),a.a.createElement("span",{className:"App-title thymine"},"T\xa0"),a.a.createElement("span",{className:"App-subtitle"},"a spreadsheet for sequences"),a.a.createElement("span",{className:"App-subtitle",style:{float:"right"}},a.a.createElement("a",{href:"https://github.com/carlmanaster/locus-acgt",target:"_blank",rel:"noopener noreferrer"},a.a.createElement("img",{src:"GitHub-Mark-Light-32px.png",alt:"octocat"})))),a.a.createElement(m,{data:this.state.data,name:"hot",id:"hot-id",ref:"hot-ref"}))}}]),t}(r.Component),y=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function L(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}c.a.render(a.a.createElement(M,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/locus-acgt",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("/locus-acgt","/service-worker.js");y?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):L(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):L(e)})}}()},8:function(e,t){var n="a".charCodeAt(),r=function(e){return e.startsWith("=")},a=function(e){return e.substring(1)},o=function(e){var t=e.match(/\$?[a-z]{1,2}\$?\d+/gi);return t||[]},c=function(e){return e-1},i=function(e){return e+1},s=function(e){var t=e.toLowerCase();return 1===t.length?t.charCodeAt(0)-n:26*(t.charCodeAt(0)-n+1)+t.charCodeAt(1)-n},l=function(e){var t=String.fromCharCode(e%26+n);return e>25&&(t+=String.fromCharCode(Math.floor(e/26)+n-1)),t},u=function(e,t,n){var r=i(e.row);t&&(r="$".concat(r));var a=l(e.col);return n&&(a="$".concat(a)),"".concat(a).concat(r)},f=function(e){var t=e.replace(/\$/g,""),n=t.search(/\d/);return{row:c(t.substring(n)),col:s(t.substring(0,n))}},g=function(e,t,n){var r=n.startsWith("$"),a=n.substring(1).search("\\$")>-1,o=t.row-e.row,c=t.col-e.col,i=f(n);return a||(i.row+=o),r||(i.col+=c),u(i,a,r)},d=function(e,t,n){var r=1+t[1]-t[0];return t[0]===n[0]?t[0]+(e-n[0])%r:t[1]-(n[1]-e)%r};e.exports={isFormula:r,getFormula:a,translateCell:function(e,t,n){if(!r(n))return n;var c=a(n);return o(c).forEach(function(n){var r=g(e,t,n);c=c.replace(n,r)}),"=".concat(c)},getReferences:o,toRowIndex:c,toColumnIndex:s,toReference:u,toRow:i,toColumn:l,toCoordinates:f,translateReference:g,sourceCellForFill:function(e,t,n,r){var a=n[2]-n[0]+1;if("vertical"===(r[2]-r[0]+1>a?"vertical":"horizontal")){var o=t;return{row:d(e,[n[0],n[2]],[r[0],r[2]]),col:o}}return{row:e,col:d(t,[n[1],n[3]],[r[1],r[3]])}},sourceIndex:d}}},[[19,2,1]]]);
//# sourceMappingURL=main.8ef1eff7.chunk.js.map